# Smithery configuration file: https://smithery.ai/docs/config#smitheryyaml

name: mongo-mcp
version: 1.0.31
type: mcp

connections:
  - name: default
    type: mongodb
    config:
      uri:
        type: string
        description: MongoDB connection string
        required: true
      database:
        type: string
        description: Database name
        required: true
      collection:
        type: string
        description: Collection name
        default: default
      query:
        type: object
        description: Query conditions
        default: {}
      limit:
        type: number
        description: Maximum number of documents to return
        default: 10

commands:
  - name: connect
    description: Connect to MongoDB database
    connection: default
    parameters: []
  - name: find
    description: Query documents in collection
    connection: default
    parameters: ["collection", "query", "limit"]

startCommand:
  type: stdio
  configSchema:
    type: object
    required:
      - uri
      - database
    properties:
      uri:
        type: string
        description: MongoDB connection string
      database:
        type: string
        description: Database name
      collection:
        type: string
        description: Collection name
        default: default
      query:
        type: object
        description: Query conditions
        default: {}
      limit:
        type: number
        description: Maximum number of documents to return
        default: 10
  commandFunction: |
    (config) => ({
      command: 'node',
      args: ['dist/server.js'],
      env: {
        MONGODB_URI: config.uri,
        MONGODB_DATABASE: config.database,
        MONGODB_COLLECTION: config.collection,
        MONGODB_QUERY: JSON.stringify(config.query),
        MONGODB_LIMIT: config.limit.toString()
      }
    })
  exampleConfig:
    uri: mongodb://localhost:27017
    database: test
    collection: default
    query: {}
    limit: 10 